<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Wasiyyah | Estate Management System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <script>
        if (!localStorage.getItem('token')) {
            window.location.replace('/login.html');
        }
    </script>
    <style>
        /* Inline styles for new secular sections to avoid css caching issues/complex refactors */
        .secular-principles {
            padding: 5rem 0;
            background: #f9f9f9;
        }

        .secular-process {
            padding: 5rem 0;
        }

        .secular-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .process-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        @media (max-width: 768px) {

            .secular-grid,
            .process-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>


    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="logo">
                <span class="logo-icon">‚ò™</span>
                <span class="logo-text">Al-Wasiyyah</span>
            </a>
            <div class="nav-links">
                <a href="/" class="nav-link active">Home</a>
                <a href="#" onclick="logout()" class="nav-link">Logout</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <div class="bismillah">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê</div>
            <h1 class="hero-title">Personal Estate<br>Management System</h1>
            <p class="hero-subtitle">Prepare your legacy according to the laws of Al-Faraid with complete transparency
                and ease</p>
            <div class="hero-buttons">
                <a href="/dashboard" class="btn btn-primary btn-hero" id="get-started-btn">
                    <span>‚óà</span> START YOUR ESTATE PLAN
                </a>
            </div>
        </div>
    </header>

    <section class="features">
        <div class="container">
            <h2 class="section-title">Comprehensive Estate Planning</h2>
            <p class="section-subtitle">Everything you need to prepare your Islamic will in compliance with Shariah law
            </p>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üè†</div>
                    <h3>Asset Management</h3>
                    <p>Track land, vehicles, investments with estimated market values in XAF</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üë•</div>
                    <h3>Heirs Registry</h3>
                    <p>Register heirs and automatically calculate their Islamic inheritance shares</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìã</div>
                    <h3>Debt Tracking</h3>
                    <p>Record debtors and creditors to ensure complete settlement</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚öñÔ∏è</div>
                    <h3>Al-Faraid Calculator</h3>
                    <p>Automatic Islamic inheritance calculation for wife, mother, sons, daughters</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìú</div>
                    <h3>Will Document</h3>
                    <p>Generate complete Islamic will clause with all legal provisions</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Net Estate Summary</h3>
                    <p>Real-time calculation of assets, debts, and distributable estate</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Original How It Works (Islamic) -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">Ÿ°</div>
                    <h3>Register Details</h3>
                    <p>Enter your information and register all heirs</p>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-number">Ÿ¢</div>
                    <h3>Add Assets & Debts</h3>
                    <p>List properties, vehicles, and obligations</p>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-number">Ÿ£</div>
                    <h3>Review Distribution</h3>
                    <p>See automatic Islamic inheritance calculation</p>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-number">Ÿ§</div>
                    <h3>Generate Will</h3>
                    <p>Create your complete Islamic will document</p>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW Process Overview (Secular) - Hidden by default -->
    <section class="secular-process" style="display: none;">
        <div class="container">
            <h2 class="section-title" style="text-align: center;">Streamlined Estate Management</h2>
            <p class="section-subtitle" style="text-align: center; margin-bottom: 3rem;">A professional approach to
                organizing your life's work</p>
            <div class="process-grid">
                <div>
                    <div style="font-size: 3rem; margin-bottom: 1rem; color: var(--primary);">01</div>
                    <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem; font-weight: 700;">Comprehensive Inventory</h3>
                    <p style="color: #666;">Catalog every asset and liability with precision, establishing a clear net
                        worth baseline for your estate.</p>
                </div>
                <div>
                    <div style="font-size: 3rem; margin-bottom: 1rem; color: var(--primary);">02</div>
                    <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem; font-weight: 700;">Beneficiary Designation</h3>
                    <p style="color: #666;">Clearly define heir relationships and intended distributions to prevent
                        future disputes and ensure clarity.</p>
                </div>
                <div>
                    <div style="font-size: 3rem; margin-bottom: 1rem; color: var(--primary);">03</div>
                    <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem; font-weight: 700;">Legacy Generation</h3>
                    <p style="color: #666;">Automatically generate professional summaries and legal-ready documents
                        reflecting your current estate status.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Original Principles (Islamic) -->
    <section class="principles">
        <div class="container">
            <div class="principles-grid">
                <div class="principles-text">
                    <h2>Based on Islamic Principles</h2>
                    <blockquote class="hadith">
                        "It is not permissible for any Muslim who has something to bequeath to stay for two nights
                        without having his will written."
                        <cite>‚Äî Sahih al-Bukhari & Muslim</cite>
                    </blockquote>
                    <p>This system follows the order of estate distribution:</p>
                    <ol>
                        <li><strong>Funeral Expenses</strong> ‚Äî First priority</li>
                        <li><strong>Debt Settlement</strong> ‚Äî All debts must be paid</li>
                        <li><strong>Wasiyyah</strong> ‚Äî Up to 1/3 to non-heirs</li>
                        <li><strong>Inheritance</strong> ‚Äî According to Al-Faraid</li>
                    </ol>
                </div>
                <div class="principles-art">
                    <div class="calligraphy">ÿßŸÑŸàÿµŸäÿ©</div>
                    <span>Al-Wasiyyah</span>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW Principles (Secular) - Hidden by default -->
    <section class="secular-principles" style="display: none;">
        <div class="container">
            <h2 class="section-title" style="text-align: center; margin-bottom: 2rem;">Secure Your Financial Legacy</h2>
            <div class="secular-grid">
                <div class="principles-text">
                    <h3 style="font-size: 1.8rem; margin-bottom: 1.5rem; color: var(--primary);">Why Estate Planning
                        Matters</h3>
                    <p style="margin-bottom: 1.5rem; line-height: 1.8; color: #555;">
                        Effective estate planning is about more than just distributing assets; it's about providing
                        clarity and security for your loved ones. By organizing your financial life today, you ensure
                        that your hard-earned legacy is preserved and your wishes are honored without ambiguity.
                    </p>
                    <p style="line-height: 1.8; color: #555;">
                        Our system provides a professional framework to track every aspect of your estate, from real
                        estate holdings and liquid assets to outstanding liabilities. This comprehensive approach
                        eliminates guesswork and simplifies the complex process of estate administration.
                    </p>
                </div>
                <div class="principles-features">
                    <div style="margin-bottom: 2rem;">
                        <h4 style="font-size: 1.3rem; margin-bottom: 0.5rem; font-weight: 700; color: #333;">üõ°Ô∏è Asset
                            Protection</h4>
                        <p style="color: #666;">Safeguard your wealth by maintaining an up-to-date registry of all
                            property and financial instruments.</p>
                    </div>
                    <div>
                        <h4 style="font-size: 1.3rem; margin-bottom: 0.5rem; font-weight: 700; color: #333;">üïäÔ∏è Peace
                            of Mind</h4>
                        <p style="color: #666;">Live with the confidence that your financial affairs are in perfect
                            order and accessible to those you trust.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-icon">‚ò™</span>
                    <span class="logo-text">Al-Wasiyyah</span>
                    <p>Islamic Will & Estate Management</p>
                </div>
                <div class="footer-note">
                    <p>This tool is for planning purposes only. Please consult with a qualified Islamic scholar and
                        legal professional for final execution.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2025 Created by GHOUENZEN SOULEMANOU. Email: gsouleman@gmail.com | Tel: 675299868</p>
            </div>
        </div>
    </footer>

    <div id="toast" class="toast"></div>

    <script src="/js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            if (user.full_name) {
                document.querySelectorAll('.logo-text').forEach(el => {
                    el.textContent = `Al-Wasiyyah ${user.full_name}`;
                });
            }
            // Show Admin Link if admin
            if (user.role === 'admin') {
                const navLinks = document.querySelector('.nav-links');
                const adminLink = document.createElement('a');
                adminLink.href = '/admin.html';
                adminLink.className = 'nav-link';
                adminLink.textContent = 'Admin Panel';
                navLinks.insertBefore(adminLink, navLinks.firstChild);
            }

            // Handle Non-Islamic User View
            if (user.is_islamic === false) {
                // 1. Hide Bismillah
                const bismillah = document.querySelector('.bismillah');
                if (bismillah) bismillah.style.display = 'none';

                // 2. Hide Specific Feature Cards
                document.querySelectorAll('.feature-card').forEach(card => {
                    const title = card.querySelector('h3').textContent.trim();
                    if (title.includes('Heirs Registry') ||
                        title.includes('Al-Faraid Calculator') ||
                        title.includes('Will Document')) {
                        card.style.display = 'none';
                    }
                    if (title.includes('Net Estate Summary')) {
                        const p = card.querySelector('p');
                        if (p) p.textContent = 'Real-time calculation of assets, debts, and estate';
                    }
                });

                // 3. Hide Logo Icon (Crescent) everywhere
                document.querySelectorAll('.logo-icon').forEach(icon => icon.style.display = 'none');

                // 4. Hide Brand Name text "Al-Wasiyyah" but keep user name if custom

                // Update NAVBAR logo text only
                const navLogoText = document.querySelector('.navbar .logo-text');
                if (navLogoText) {
                    if (navLogoText.textContent.includes('Al-Wasiyyah')) {
                        navLogoText.textContent = user.full_name ? user.full_name : 'Estate Manager';
                    }
                }

                // HIDE FOOTER logo text specifically
                const footerLogoText = document.querySelector('.footer .logo-text');
                if (footerLogoText) footerLogoText.style.display = 'none';

                // 5. Hide "Islamic Will & Estate Management" subtitle/brand text
                document.querySelectorAll('p, span, div').forEach(el => {
                    if (el.childNodes.length === 1 && el.textContent.includes('Islamic Will & Estate Management')) {
                        el.style.display = 'none';
                    }
                });
                const footerBrandP = document.querySelector('.footer-brand p');
                if (footerBrandP) footerBrandP.style.display = 'none';

                // 6. Hide Disclaimer "This tool is for planning purposes only..."
                document.querySelectorAll('.footer-note').forEach(el => el.style.display = 'none');

                // 7. Hide Principles Section (Hadith, List, Calligraphy) -> SHOW SECULAR
                const principles = document.querySelector('.principles');
                if (principles) principles.style.display = 'none';

                const secularPrinciples = document.querySelector('.secular-principles');
                if (secularPrinciples) secularPrinciples.style.display = 'block';

                // 8. Hide "How It Works" Section -> SHOW SECULAR PROCESS
                const howItWorks = document.querySelector('.how-it-works');
                if (howItWorks) howItWorks.style.display = 'none';

                const secularProcess = document.querySelector('.secular-process');
                if (secularProcess) secularProcess.style.display = 'block';

                // 9. Update Hero Subtitle
                const heroSubtitle = document.querySelector('.hero-subtitle');
                if (heroSubtitle) {
                    heroSubtitle.textContent = 'Prepare your legacy with complete transparency and ease';
                }

                // 10. Hide features subtitle if it's the Islamic one
                const featuresSubtitle = document.querySelector('.section-subtitle');
                if (featuresSubtitle && featuresSubtitle.textContent.includes('Islamic will')) {
                    featuresSubtitle.style.display = 'none';
                }

                // Professional Arrangement: Center Remaining Features
                const grid = document.querySelector('.features-grid');
                if (grid) {
                    grid.style.justifyContent = 'center';
                }
            }
        });
    </script>
</body>

</html>