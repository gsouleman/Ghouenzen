<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Wasiyyah | Islamic Will & Estate Management</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <script>
        if (!localStorage.getItem('token')) {
            window.location.replace('/login.html');
        }
    </script>
</head>

<body>


    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="logo">
                <span class="logo-icon">â˜ª</span>
                <span class="logo-text">Al-Wasiyyah</span>
            </a>
            <div class="nav-links">
                <a href="/" class="nav-link active">Home</a>
                <a href="#" onclick="logout()" class="nav-link">Logout</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <div class="bismillah">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù</div>
            <h1 class="hero-title">Personal Estate<br>Management System</h1>
            <p class="hero-subtitle">Prepare your legacy according to the laws of Al-Faraid with complete transparency
                and ease</p>
            <div class="hero-buttons">
                <a href="/dashboard" class="btn btn-primary btn-hero" id="get-started-btn">
                    <span>â—ˆ</span> START YOUR ESTATE PLAN
                </a>
            </div>
        </div>
    </header>

    <section class="features">
        <div class="container">
            <h2 class="section-title">Comprehensive Estate Planning</h2>
            <p class="section-subtitle">Everything you need to prepare your Islamic will in compliance with Shariah law
            </p>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ </div>
                    <h3>Asset Management</h3>
                    <p>Track land, vehicles, investments with estimated market values in XAF</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ‘¥</div>
                    <h3>Heirs Registry</h3>
                    <p>Register heirs and automatically calculate their Islamic inheritance shares</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“‹</div>
                    <h3>Debt Tracking</h3>
                    <p>Record debtors and creditors to ensure complete settlement</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">âš–ï¸</div>
                    <h3>Al-Faraid Calculator</h3>
                    <p>Automatic Islamic inheritance calculation for wife, mother, sons, daughters</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“œ</div>
                    <h3>Will Document</h3>
                    <p>Generate complete Islamic will clause with all legal provisions</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ’°</div>
                    <h3>Net Estate Summary</h3>
                    <p>Real-time calculation of assets, debts, and distributable estate</p>
                </div>
            </div>
        </div>
    </section>

    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">Ù¡</div>
                    <h3>Register Details</h3>
                    <p>Enter your information and register all heirs</p>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-number">Ù¢</div>
                    <h3>Add Assets & Debts</h3>
                    <p>List properties, vehicles, and obligations</p>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-number">Ù£</div>
                    <h3>Review Distribution</h3>
                    <p>See automatic Islamic inheritance calculation</p>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <div class="step-number">Ù¤</div>
                    <h3>Generate Will</h3>
                    <p>Create your complete Islamic will document</p>
                </div>
            </div>
        </div>
    </section>

    <section class="principles">
        <div class="container">
            <div class="principles-grid">
                <div class="principles-text">
                    <h2>Based on Islamic Principles</h2>
                    <blockquote class="hadith">
                        "It is not permissible for any Muslim who has something to bequeath to stay for two nights
                        without having his will written."
                        <cite>â€” Sahih al-Bukhari & Muslim</cite>
                    </blockquote>
                    <p>This system follows the order of estate distribution:</p>
                    <ol>
                        <li><strong>Funeral Expenses</strong> â€” First priority</li>
                        <li><strong>Debt Settlement</strong> â€” All debts must be paid</li>
                        <li><strong>Wasiyyah</strong> â€” Up to 1/3 to non-heirs</li>
                        <li><strong>Inheritance</strong> â€” According to Al-Faraid</li>
                    </ol>
                </div>
                <div class="principles-art">
                    <div class="calligraphy">Ø§Ù„ÙˆØµÙŠØ©</div>
                    <span>Al-Wasiyyah</span>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-icon">â˜ª</span>
                    <span class="logo-text">Al-Wasiyyah</span>
                    <p>Islamic Will & Estate Management</p>
                </div>
                <div class="footer-note">
                    <p>This tool is for planning purposes only. Please consult with a qualified Islamic scholar and
                        legal professional for final execution.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2025 Created by GHOUENZEN SOULEMANOU. Email: gsouleman@gmail.com | Tel: 675299868</p>
            </div>
        </div>
    </footer>

    <div id="toast" class="toast"></div>

    <script src="/js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            if (user.full_name) {
                document.querySelectorAll('.logo-text').forEach(el => {
                    el.textContent = `Al-Wasiyyah ${user.full_name}`;
                });
            }
            // Show Admin Link if admin
            if (user.role === 'admin') {
                const navLinks = document.querySelector('.nav-links');
                const adminLink = document.createElement('a');
                adminLink.href = '/admin.html';
                adminLink.className = 'nav-link';
                adminLink.textContent = 'Admin Panel';
                navLinks.insertBefore(adminLink, navLinks.firstChild);
            }

            // Handle Non-Islamic User View
            if (user.is_islamic === false) {
                // 1. Hide Bismillah
                const bismillah = document.querySelector('.bismillah');
                if (bismillah) bismillah.style.display = 'none';

                // 2. Hide Specific Feature Cards: Heirs Registry, Al-Faraid Calculator, Will Document
                // Searching by text content since we don't have IDs
                document.querySelectorAll('.feature-card').forEach(card => {
                    const title = card.querySelector('h3').textContent;
                    if (title.includes('Heirs Registry') ||
                        title.includes('Al-Faraid Calculator') ||
                        title.includes('Will Document')) {
                        card.style.display = 'none';
                    }
                });

                // 3. Hide Logo Icon (Crescent)
                document.querySelectorAll('.logo-icon').forEach(icon => icon.style.display = 'none');

                // 4. Hide Brand Name text "Al-Wasiyyah"
                document.querySelectorAll('.logo-text').forEach(text => {
                    if (text.textContent.includes('Al-Wasiyyah')) {
                        // Replace or hide? Prompt says "hide ... Al-Wasiyyah".
                        // But we put the user's name there. Let's just remove "Al-Wasiyyah" prefix.
                        text.textContent = user.full_name || 'Estate Manager';
                    }
                });

                // 5. Hide "Islamic Will & Estate Management" subtitle/brand text
                // Found in <title>, footer, maybe nav?
                // document.title = "Estate Management"; // Optional but nice
                document.querySelectorAll('p, span').forEach(el => {
                    if (el.textContent.includes('Islamic Will & Estate Management')) {
                        el.style.display = 'none';
                    }
                });

                // 6. Hide Disclaimer "This tool is for planning purposes only..."
                document.querySelectorAll('.footer-note').forEach(el => el.style.display = 'none');

                // 7. Hide Principles Section (Hadith, List, Calligraphy)
                const principles = document.querySelector('.principles');
                if (principles) principles.style.display = 'none';

                // 8. Hide Steps 3 and 4 (Review Distribution, Generate Will)
                document.querySelectorAll('.step').forEach(step => {
                    const title = step.querySelector('h3').textContent;
                    if (title.includes('Review Distribution') || title.includes('Generate Will')) {
                        step.style.display = 'none';
                        // Also hide the line following it? Hard to target nicely without IDs.
                        // Let's just hide the step for now.
                    }
                });
                // Clean up step lines if possible (advanced selector)
                // Simplified: Just hide the step div.

                // Professional Arrangement
                // Centering remaining items in features grid
                const grid = document.querySelector('.features-grid');
                if (grid) {
                    grid.style.justifyContent = 'center';
                }
            }
        });
    </script>
</body>

</html>